<!doctype html><html lang=ru-RU><head><meta charset=utf-8><link rel=preconnect href=https://fonts.gstatic.com><title>Почему не надо устанавливать неизвестные сертификаты на свои устройства? | Ilya Krukowski</title>
<meta name=viewport content="width=device-width"><meta name=description content='В этой статье простым языком объясняется, почему не стоит устанавливать сертификаты неизвестных или недоверенных организаций на компьютер.'><meta name=keywords content="Ilya Krukowski,Илья Круковский,bodrovis,статьи о web,программирование,дизайн,регулярные выражения,web-дизайн,ruby,rails,javascript,jquery,css,html,regexp,плагины,radiant wind,plugins,gems,libraries,tutor,personal teacher,it"><meta name=author content="bodrovis"><meta name=robots content="all"><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=icon href=/favicon.ico type=image/x-icon><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link href="https://fonts.googleapis.com/css2?family=PT+Sans+Caption:wght@400;700&family=PT+Sans:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=/stylesheets/single_post.min.57f20935f47babce542ddca31d45617eacbdf92a3d68a1ef1fa98fca36d8805d.css integrity="sha256-V/IJNfR7q85ULdyjHUVhfqy9+So9aKHvH6mPyjbYgF0=" crossorigin=anonymous><meta property="og:image" content="https://bodrovis.tech/meta/pochemu-ne-nado-ustanavlivat-neizvestnyye-sertificaty-na-svoi-ustrojstva.webp"><meta property="og:type" content="blog"><meta property="og:title" content="Почему не надо устанавливать неизвестные сертификаты на свои устройства? |  by Ilya Krukowski"><meta property="og:description" content="В этой статье простым языком объясняется, почему не стоит устанавливать сертификаты неизвестных или недоверенных организаций на компьютер."><meta property="og:url" content="https://bodrovis.tech/posts/pochemu-ne-nado-ustanavlivat-neizvestnyye-sertificaty-na-svoi-ustrojstva/"><meta property="og:site_name" content="Ilya Krukowski"></head><body><header lang=en-US><div id=main-top-block class=light_gradient><nav><a href=/ class="icon icon-home" title=Homepage></a><a class="icon icon-book" title=Blog href=/blog></a><a class="icon icon-tags" title=Tags href=/tags></a><a class="icon icon-search with-spacer" title=Search href=/search></a><a class="icon icon-github" title=GitHub href=https://github.com/bodrovis target=_blank></a><a class="icon icon-youtube" title=YouTube href=https://www.youtube.com/@IlyaBodrovKrukowski target=_blank></a><a class="icon icon-telegram" title=Telegram href=https://t.me/dev_in_ruby_colors target=_blank></a><a class="icon icon-linkedin" title=LinkedIn href=https://linkedin.com/in/bodrovis target=_blank></a></nav></div><div id=logo><img src=/images/icon150trans.webp width=150 height=150 alt="Ilya Krukowski logo" class=img-logo><p><a href=/blog><span class=capital>I</span>lya <span class=capital>K</span>rukowski
<span class=subtitle>https://bodrovis.tech</span></a></p></a></header><main id=content data-pagefind-body><h1>Почему не надо устанавливать неизвестные сертификаты на свои устройства?</h1><article class=full-entry><time class="timestamp subtext" datetime="2024-03-05 00:00:00 +0000 UTC">March 5, 2024
</time><a class=badge href=/tags/%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F>#криптография</a><section id=post-body><aside id=toc-wrapper><h4>Index</h4><nav id=TableOfContents><ul><li><a href=#присказка>Присказка</a></li><li><a href=#сказ-об-удалом-гонце>Сказ об удалом гонце</a></li><li><a href=#мастер-ключей>Мастер ключей</a></li><li><a href=#кодекс-чести-мастеров>Кодекс чести мастеров</a></li><li><a href=#злые-мастера>Злые мастера</a></li></ul></nav></aside><p>В свете того, что в ряде стран пользователей сети Интернет вынуждают устанавливать на компьютеры и смартфоны какие-то &ldquo;специальные&rdquo;, непонятные <strong>сертификаты безопасности</strong>, некоторые знакомые спрашивают, что всё это значит. В этой статье я попробую совсем по-простому объяснить, в чём тут дело, и расскажу вам сказку.</p><p><em>Эта запись также доступна <a href=https://t.me/dev_in_ruby_colors/990>в канале Telegram &ldquo;DEV: Рубиновые тона&rdquo;</a>, а обсудить же эту тему можно <a href=https://t.me/+MxYT6-01eeA1NTYy>в нашем чате Telegram</a>.</em></p><h2 id=присказка>Присказка</h2><p>Интернет — вообще штука публичная, огромное количество данных передаётся по сети каждую секунду, и кто даст гарантию, что какой-нибудь хитрец не пытается эти данные перехватить, подслушать? Ну, как перехватывают почтовых голубей, гонцов&mldr;</p><p>Честно говоря, в простом случае никакой гарантии и нет, ситуация примерно такая же, как и с обычной почтой: ваше письмо в теории может распечатать любопытный сотрудник и посмотреть, что же там такого интересного написано. Может даже дописать что-нибудь от себя, ну, как в мультфильме &ldquo;Простоквашино&rdquo;, где у Шарика &ldquo;хвост отваливается&rdquo;. К сожалению, в интернете ситуация аналогичная: пакеты информации при желании можно отловить и даже подсунуть туда что-то ещё (в сравнительно безобидном случае — рекламу, в плохом случае — нехороший скрипт, который будет красть пароли, вводимые на web-странице).</p><p>Но если это действительно так, то как же от этого защититься?! К счастью, умные люди уже придумали для нас решение, и называется оно &ldquo;ассиметричное шифрование&rdquo;. Конечно, обо всём этом мы здесь говорим упрощённо, но если вам интересно, у меня есть <a href=https://www.youtube.com/live/ttsRlTJJizI>видео о принципе работы такого шифрования</a>.</p><h2 id=сказ-об-удалом-гонце>Сказ об удалом гонце</h2><p>Так вот, давайте представим, что веб-сайт, на который вы заходите — хотя бы тот же Гугл, — будет класть информацию для вас (последние новости, полученные вами сообщения, и так далее) в супер-надёжный запертый сундучок. Его невозможно взломать, и отправляться он будет по обычной почте, ведь открыть такой сундучок без ключа любопытный сотрудник уже не сможет.</p><p>Но есть маленькая сложность: а как его должны отпирать вы? Иными словами, кто доставит вам ключ, причём так, что никто другой ни в коем случае этот ключ не получит? Может быть, какой-нибудь сказочный гонец, которому вы полностью доверяете? Но если этот гонец настолько сказочный, что может доставить ключ без проволочек, так почему он не может просто привезти вам сразу информацию от Гугла? Ведь его никто не сумеет перехватить! Вот это загадка, и тут я совершенно не шучу.</p><p>Проблема доставки ключа в таких ситуациях терзала людей без преувеличения тысячелетия — в большинстве случаев это были военные, которым было нужно отправлять секретные приказы. Да, к сожалению, именно война в этом плане оказалась лучшим двигателем прогресса. Но многие столетия люди действительно полагались на удалых гонцов, которые зачастую с риском для жизни доставляли сообщения адресату. Как вы понимаете, в современных реалиях это невозможно: слишком большие расстояния, да и гонцов на всех пользователей интернета не напасёшься.</p><h2 id=мастер-ключей>Мастер ключей</h2><p>Долго ли, коротко ли был придуман улучшенный принцип. Представьте, что где-то живёт некий <strong>мастер</strong>, он делает весьма хитрые замки для наших надёжных сундучков, а также ключи к ним. Зовут этого мастера Удостоверяющий центр (Certification authority). Его замки имеют необычное свойство: для запирания требуется один ключ, а для отпирания — уже совсем другой, парный первому. Больше того, по тому, каким ключом был заперт этот замок, вы можете понять, кто же именно его запер — к примеру, тот же Гугл (хотя это предельное упрощение, скажу честно). Как это помогает в решении нашей проблемы?</p><p>А вот как. Гугл может купить у мастера ключик только для себя любимого, хранить его в секрете, и никому не показывать. Это называется &ldquo;приватный ключ&rdquo; (private key) — мастер изготовил его лишь в одном экземпляре, и больше никогда такой уже не сделает (помните, это как история с храмом Василия Блаженного). Именно этим ключом Гугл и запирает сундучок с данными, которые отправляет вам. А как же его отпирать вам? Легко!</p><p>Дело в том, что для всех желающих мастер может изготовить сколько угодно парных ключей к тому, что был сделан для Гугла в единственном экземпляре. Как мы уже знаем, сундучок запирается одним ключом (в данном случае секретным), а открывается парным ему. Вы можете заказать у мастера парный ключ, он называется &ldquo;открытый&rdquo; (public key), и отпереть сундучок. Вообще-то, ситуация здесь куда сложнее, потому что нам ещё нужно обезопаситься от ситуации, когда кто-нибудь в этот же момент тоже закажет такой ключик и откроет наш сундук, но поверьте на слово, что такая защита встроена в весь этот процесс (подробнее можно узнать <a href=https://www.youtube.com/live/ttsRlTJJizI>в видео</a>).</p><p>Верно и обратное: вы можете положить в сундучок послание для Гугла, запереть его парным ключом, и лишь Гугл сумеет открыть его. Ведь мы уже знаем, что открывается он только парным ключом, а парным выступает тот самый секретный ключ, его нет ни у кого, кроме Гугла, мастер другого такого ключа никогда не сделает! Следовательно, и прочитать переданную вами информацию никто не сможет.</p><h2 id=кодекс-чести-мастеров>Кодекс чести мастеров</h2><p>Кстати, а почему, собственно говоря, мастер не может сделать ещё один такой же секретный ключ и дать его какому-нибудь вредному писарю, который хочет засовывать нос в пересылаемые сундучки? А вдруг этот писарь, получив дубликат ключа, вообще станет отправлять секретные послания от имени Гугла вам, называть вас в этих посланиях нехорошими словами, а вы будете думать, что это пишет Гугл? Это будет совсем нехорошо!</p><p>А вот тут мы упираемся в важнейший вопрос <strong>доверия</strong>. Мастеров-ключников в этом мире чрезвычайно мало, их буквально несколько десятков, у них кристально чистая репутация, и поэтому люди им доверяют. В конце концов, люди ведь доверяют банкам или государственным структурам (до определённых пределов). Здесь ситуация та же; эти мастера известны всему миру: это, к примеру, VeriSign или Symantec. Они ставят на свои ключи знак качества, а Гуглу и другим структурам выдают специальный сертификат, который удостоверяет, что это именно Гугл и никто иной, это именно он запер сундучок, поэтому мастера и зовутся Удостоверяющими центрами.</p><p>Кстати, известные мастера могут брать учеников, которые тоже становятся Удостоверяющими центрами, только уровнем пониже, и они тоже могут создавать свои ключи, но и они должны следовать кодексу чести, никогда не выпуская секретных ключей &ldquo;мимо кассы&rdquo; и следя за тем, чтобы ключи не попали к лихим людям.</p><p>Если же кто-то пришлёт вам сундучок, который был заперт ключом от неизвестного мастера, то ваше устройство сообщит, что здесь явно что-то не так: этот мастер не является доверенным, и он также не является учеником одного из известных мастеров! Список всех известных мастеров хранится на вашем устройстве, это называется &ldquo;доверенные корневые удостоверяющие центры&rdquo;, и этот список попадает на устройство в момент установки операционной системы.</p><h2 id=злые-мастера>Злые мастера</h2><p>А теперь представим, что в мире появился <strong>мастер-негодяй</strong>, который создаёт секретные ключи для веб-сайтов, но раздаёт их всем желающим, в том числе любопытным опричникам. Что это значит? Это как раз и значит, что все, получившие такой якобы &ldquo;секретный&rdquo; ключ, могут заглядывать в сундучки, которые отправляете вы, и даже подменять письма внутри!</p><p>Но, постойте, ведь такого мастера-негодяя нет в списке &ldquo;доверенных&rdquo; на вашем устройстве? Мы ведь уже знаем, что если мастер неизвестен, то нас сразу об этом предупредят. Именно так, но только до тех пор, пока вы <strong>собственноручно не добавите имя этого мастера в список доверенных</strong>, то есть сделаете ровно то, что требуют от пользователей в некоторых странах.</p><p>Как только вы это сделали, вы начинаете автоматически доверять всем ключам этого нового мастера, и всем его ученикам тоже. А если есть подозрения, что мастер нечист на руку, то, быть может, не стоит ему доверять? Кто знает, кому ещё он подарит секретный ключик, и кто ещё сможет просматривать все данные, которые вы отправляете&mldr; Именно поэтому стоит быть очень разборчивым в том, кому именно вы доверяете.</p></section></article></main><footer class=light_gradient lang=en-US><p>&copy; Ilya Krukowski</p></footer><script src=/js/post.min.c6a3ca85a318ecf83b8e11535463ad9865ecb2fa1528b59e028c79a6834fc21b.js integrity="sha256-xqPKhaMY7Pg7jhFTVGOtmGXssvoVKLWeAox5poNPwhs=" defer></script></body></html>